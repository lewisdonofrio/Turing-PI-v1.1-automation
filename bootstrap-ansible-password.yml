# =============================================================================
# File: /opt/ansible-k3s-cluster/bootstrap-ansible-password.yml
# =============================================================================
# Purpose:
#   Temporary bootstrap playbook to assign a password to the 'ansible' user
#   across all kubenode hosts so that ssh-copy-id can install SSH keys.
#
# Notes:
#   - This file is temporary and should be deleted after SSH keys are installed.
#   - Password is only used for initial bootstrap.
#   - After keys are installed, lock the password again.
# =============================================================================

---
- hosts: all
  gather_facts: no
  become: yes
  tasks:
    - name: Set temporary password for ansible user
      user:
        name: ansible
        password: "$6$qSburwB5vWoHEP4h$Yy..uRhxDiZi3vDgLTk2VNXQPaAWEDFw9WluKlkOorIJdcm2Cj0IHrb/q6Q9wxYzE59EW7gqA5lk4XJMjmNbb0"
